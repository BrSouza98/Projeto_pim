@{
    Layout = "";
    ViewData["Title"] = "Baixar folha";
}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Projeto PIM</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Projeto_pimWEB.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/lib/bootstrap-icons/font/bootstrap-icons.min.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/lib/animate.css/animate.min.css" />
    <link href="https://cdn.datatables.net/v/dt/dt-1.13.6/datatables.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

</head>
<body>
    <div class="ms-1 me-3" style="height: 700px" id="content">
        <div class="d-flex justify-content-between">
        <div>
            <h2 class="fs-4">EMPREGADOR</h2>
            <p>nome</p>
            <p>Endereço</p>
            <p>CNPJ</p>
        </div>
            <h2 class="fs-4">Recibo de Pagamento de Salário</h2>
        </div>
        <div class="d-flex justify-content-between">
            <div class="">
                <h3 class="fs-6">NOME</h3>
                <p>Renatão de 4</p>
            </div>
            <div class="">
                <h3 class="fs-6">DEPARTAMENTO</h3>
                <p>PUTAMETRIA</p>
            </div>
            <div class="">
                <h3 class="fs-6">CARGO</h3>
                <p>Putólogo chefe</p>
            </div>
            <div class="">
                <h3 class="fs-6">PERÍODO</h3>
                <p>10/sempre</p>
            </div>

        </div>
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th scope="col" style="width: 1rem;">Cód</th>
                    <th scope="col">Descrição</th>
                    <th scope="col">Referência</th>
                    <th scope="col" style="width: 15rem;">Proventos</th>
                    <th scope="col" style="width: 15rem;">Descontos</th>

                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>SALARIO BASE</td>
                    <td>220:00</td>
                    <td>5.000,00</td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>HORA EXTRA</td>
                    <td>15</td>
                    <td>511,20</td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>DSR</td>
                    <td></td>
                    <td>78,64</td>
                    <td></td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>algo</td>
                    <td>????</td>
                    <td>provento????</td>
                    <td>desconto????</td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>INSS</td>
                    <td>11,68%</td>
                    <td></td>
                    <td>828,39</td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td>IRRF</td>
                    <td>27,50%</td>
                    <td></td>
                    <td>852,54</td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td></td>
                    <td></td>
                    <td>
                        <p>Total de proventos:</p>
                        <p>5.580,00</p>
                    </td>
                    <td>
                        <p>Total de Descontos:</p>
                        <p>1.677,93</p>
                    </td>
                </tr>
                <tr>
                    <th scope="row"></th>
                    <td></td>
                    <td></td>
                    <td>Liquído a receber -></td>
                    <td>3,902,07</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-center">
    <button type="button" class="btn btn-dark" id="generate-pdf">Gerar PDF</button>
    </div>

</body>
<script>
    const btnGenerate = document.querySelector("#generate-pdf")

    btnGenerate.addEventListener("click", () => {
        //conteudo
        const content = document.querySelector("#content")

        //configuração do arquivo final pdf
        const options = {
            margin: [0, 0, 0, 0],
            filename: "arquivo.pdf",
            html2canvas: { scale: 2 },
            jsPDF: { unit: "mm", format: "a4", orientation: "landscape" }
        }
        //gerar e baixar o pdf
        html2pdf().set(options).from(content).save();
    })

</script>
</html>